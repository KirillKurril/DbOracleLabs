CREATE TABLE "GROUPS" (
    ID NUMBER,    
    NAME VARCHAR2(100),       
    C_VAL NUMBER              
);

CREATE TABLE STUDENTS (
    ID NUMBER,    
    NAME VARCHAR2(100),       
    GROUP_ID NUMBER
);

CREATE TABLE STUDENTS_AUDIT (
    AUDIT_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    ACTION_TYPE VARCHAR2(10) NOT NULL,
    ACTION_DATE TIMESTAMP DEFAULT SYSTIMESTAMP NOT NULL,
    STUDENT_ID NUMBER NOT NULL,
    STUDENT_NAME VARCHAR2(100) NOT NULL,
    GROUP_ID NUMBER NOT NULL,
    OLD_STUDENT_NAME VARCHAR2(100),
    OLD_GROUP_ID NUMBER
);

CREATE TABLE GROUPS_AUDIT (
    AUDIT_ID NUMBER GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    GROUP_ID NUMBER,
    GROUP_NAME VARCHAR2(100),
    ACTION_TYPE VARCHAR2(10),
    ACTION_DATE TIMESTAMP DEFAULT SYSTIMESTAMP,
    OLD_GROUP_NAME VARCHAR2(100)
);

CREATE OR REPLACE PACKAGE trigger_state AS
    cascade_delete_students_is_active BOOLEAN := FALSE;
END;